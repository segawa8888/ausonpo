const ua=window.navigator.userAgent.toLowerCase(),isiOS=["iphone","ipad","macintosh"].some(e=>ua.includes(e)&&"ontouchend"in document),isMobile=["iphone","ipad","macintosh","android"].some(e=>ua.includes(e)&&"ontouchend"in document),resizeTimerCmn=null;let ww,wh;const html=document.querySelector("html"),body=document.querySelector("body"),header=document.querySelector(".js-header");let scrollBarWidth=window.innerWidth-body.clientWidth;const setWindowSize=()=>{ww=document.documentElement.clientWidth,wh=document.documentElement.clientHeight},setScrollbarWidth=()=>{scrollBarWidth=window.innerWidth-body.clientWidth},resizeHandlerCmn=(window.addEventListener("load",setWindowSize),()=>{resizeTimerCmn&&clearTimeout(resizeTimerCmn),resizeTimerCmn=setTimeout(setWindowSize,200)}),addEventListenerOnce=(isMobile?window.addEventListener("orientationchange",resizeHandlerCmn):window.addEventListener("resize",resizeHandlerCmn),(t,i,o)=>{const n=e=>{o.call(t,e),t.removeEventListener(i,n)};t.addEventListener(i,n)}),bodyScrollPrevent=(e,t)=>{let i;setScrollbarWidth(),e?(body.style.paddingRight=scrollBarWidth+"px",header.style.paddingRight=scrollBarWidth+"px",isiOS?(i=-window.pageYOffset,Object.assign(body.style,{position:"fixed",width:"100%",top:i+"px"})):body.style.overflow="hidden"):(body.style.paddingRight="",header.style.paddingRight="",isiOS?(i=parseInt(body.style.top.replace(/[^0-9]/g,""),10),Object.assign(body.style,{position:"",width:"",top:""}),window.scrollTo(0,i)):body.style.overflow="")},slideDown=(e,t=400)=>{e.style.display="block";const i=e.offsetHeight;e.style.height="0px",e.style.overflow="hidden",e.style.transitionProperty="height",e.style.transitionDuration=t+"ms",setTimeout(()=>{e.style.height=i+"px"},0),setTimeout(()=>{e.style.overflow="",e.style.height="",e.style.transitionDuration=""},t)},slideUp=(e,t=400)=>{e.style.height=e.offsetHeight+"px",e.style.overflow="hidden",e.style.transitionProperty="height",e.style.transitionDuration=t+"ms",setTimeout(()=>{e.style.height="0px"},0),setTimeout(()=>{e.style.display="none",e.style.overflow="",e.style.height="",e.style.transitionDuration=""},t)},slideToggle=(e,t,i=400)=>{"none"===window.getComputedStyle(e).display?(slideDown(e,i),t.classList.add("is-active")):(slideUp(e,i),t.classList.remove("is-active"))},drawer=document.querySelector(".js-drawer"),headerNavBtn=document.querySelector(".js-header-menu"),headerNavBtnText=document.querySelector(".js-header-menu-text");async function supportsWebP(){return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src="img/common/header_logo.webp"})}headerNavBtn.addEventListener("click",()=>{var e=headerNavBtn.classList.toggle("is-active");setScrollbarWidth(),body.style.paddingRight=e?scrollBarWidth:"",html.classList.toggle("is-drawer-open",e),bodyScrollPrevent(e),headerNavBtnText.textContent=e?"閉じる":"メニュー"}),(async()=>{await supportsWebP()?document.body.classList.add("webp-support"):document.body.classList.add("no-webp-support")})(),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".js-drawer-toggle-btn").forEach(e=>{e.addEventListener("click",function(){const e=this.nextElementSibling;e&&e.classList.contains("js-drawer-toggle-content")&&slideToggle(e,this)})})});